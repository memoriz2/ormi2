<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>다크모드/라이트모드 전환</title>
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="light">
    <main>
        <div><h1>다크모드/라이트모드 전환</h1></div>
        <div class="btn-container"><p class="btn" id="themeBtn">모드전환</p></div>
        <div class="text-container"><p class="text"> 버튼을 누르면 밝게 또는 어둡게 변합니다.</p></div>
    </main>
</body>
<footer>
    <script>
        const theme = document.getElementById('themeBtn');
        const body = document.body;

        theme.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = (currentTheme === 'light'? 'dark' : 'light');
            body.setAttribute('data-Theme', newTheme);
            // 로컬 스토리지에 저장
            localStorage.setItem('theme', newTheme);
        });
        // DOM이 로드될 때 이벤트트
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme){
                body.setAttribute('data-theme', savedTheme);
            }

        });
        // 로컬스토리지에 theme이 없을 때 기본모드 light
        if(!localStorage.getItem('theme')){
            body.setAttribute('data-theme', 'light');
        }
    </script>
</footer>
</html>